(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/addressEdit/addressEdit"],{1282:function(e,n,t){"use strict";var o=t("76e3"),i=t.n(o);i.a},2444:function(e,n,t){"use strict";t.r(n);var o=t("2aa1"),i=t("da05");for(var r in i)"default"!==r&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t("1282");var a,s=t("f0c5"),d=t("7382"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"2a801db2",null,!1,o["a"],a);"function"===typeof d["a"]&&Object(d["a"])(c),n["default"]=c.exports},"2aa1":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={regionPicker:function(){return Promise.all([t.e("common/vendor"),t.e("components/region-picker/region-picker")]).then(t.bind(null,"2312"))}},i=function(){var e=this,n=e.$createElement;e._self._c},r=[]},7382:function(e,n,t){"use strict";var o=function(e){e.options.wxsCallMethods||(e.options.wxsCallMethods=[])};n["a"]=o},"76e3":function(e,n,t){},d4f8:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t("b704")),i=t("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=function(){Promise.all([t.e("common/vendor"),t.e("components/region-picker/region-picker")]).then(function(){return resolve(t("2312"))}.bind(null,t)).catch(t.oe)},u={data:function(){return{btnkg:0,id:"",uname:"",phone:"",region_id:[1,35,36],region:["北京市","北京","东城区"],moren:!1,xxaddress:"",areaJson:{}}},computed:s({},(0,i.mapState)(["hasLogin","loginMsg"])),components:{regionPicker:c},onLoad:function(e){if(this.getarea(),e.address){console.log(e.address);var n=JSON.parse(e.address);this.id=n.id,this.phone=n.phone,this.uname=n.name,this.region[0]=n.province,this.region[1]=n.city,this.region[2]=n.area;var t=[];t[0]=n.province_id,t[1]=n.city_id,t[2]=n.area_id,this.region_id=t,this.xxaddress=n.address,this.moren=!!n.is_default,console.log(this.region)}},methods:{bindRegionChange:function(e){console.log("picker发送选择改变，携带值为",e.detail),console.log("picker发送选择改变，携带值为",e.detail.value),this.region=e.detail.value,this.region_id=e.detail.code,this.region=this.region,this.region_id=this.region_id},switch1Change:function(e){console.log("switch1 发生 change 事件，携带值为",e.detail.value),this.moren=1==e.detail.value?1:0},getarea:function(){var n=this,t="/area",i={};o.default.get(t,i,(function(t){if(n.btnkg=0,1==t.data.code){var o=t.data.data;"string"==typeof o&&(o=JSON.parse(o)),n.areaJson=o}else t.data.msg?e.showToast({icon:"none",title:t.data.msg}):e.showToast({icon:"none",title:"操作失败"})}),(function(t){n.btnkg=0,e.showToast({icon:"none",title:"获取数据失败"})}))},formSubmit:function(n){var t=this;console.log("form发生了submit事件，携带数据为：",n.detail.value);var i=n.detail.value;if(""==i.name)return wx.showToast({title:"收货人姓名不能为空",duration:2e3,icon:"none"}),!1;if(!/^1\d{10}$/.test(i.tel))return wx.showToast({title:"手机号码有误",duration:2e3,icon:"none"}),!1;if(""==i.address)return wx.showToast({title:"请选择地区",duration:2e3,icon:"none"}),!1;if(""==i.xxaddress)return wx.showToast({title:"请填写详情地址",duration:2e3,icon:"none"}),!1;if(1!=t.btnkg){t.btnkg=1;var r="/user/address",a={token:t.loginMsg.userToken,name:i.name,tel:i.tel,province_id:t.region_id[0],city_id:t.region_id[1],area_id:t.region_id[2],address:i.xxaddress,is_default:t.moren?1:0};t.id&&(r="/user/address/amend",a={id:t.id,token:t.loginMsg.userToken,name:i.name,tel:i.tel,province_id:t.region_id[0],city_id:t.region_id[1],area_id:t.region_id[2],address:i.xxaddress,is_default:t.moren?1:0}),o.default.post(r,a,(function(n){if(t.btnkg=0,1==n.data.code){var o=n.data.data;"string"==typeof o&&(o=JSON.parse(o)),e.showToast({icon:"none",title:"操作成功"}),setTimeout((function(){e.navigateBack()}),1e3)}else n.data.msg?e.showToast({icon:"none",title:n.data.msg}):e.showToast({icon:"none",title:"操作失败"})}),(function(n){t.btnkg=0,e.showToast({icon:"none",title:"获取数据失败"})}))}}}};n.default=u}).call(this,t("543d")["default"])},da05:function(e,n,t){"use strict";t.r(n);var o=t("d4f8"),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},f9e0:function(e,n,t){"use strict";(function(e){t("72bd");o(t("66fd"));var n=o(t("2444"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["f9e0","common/runtime","common/vendor"]]]);