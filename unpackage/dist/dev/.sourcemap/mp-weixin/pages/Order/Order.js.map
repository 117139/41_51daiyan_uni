{"version":3,"sources":["uni-app:///main.js","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/pages/Order/Order.vue?7df5","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/pages/Order/Order.vue?ac9b","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/pages/Order/Order.vue?76db","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/pages/Order/Order.vue?b5bb","uni-app:///pages/Order/Order.vue","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/pages/Order/Order.vue?210a","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/utils/filter.wxs?8f82","webpack:///E:/phpStudy/WWW/41_51daiyan_uni/utils/filter.wxs?442f"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","Component","wxsCallMethods"],"mappings":";;;;wEAAA,qBACA,sBACA,0C,mDACAA,EAAWC,a;;;;2DCHX,sfACIC,EADJ,gVASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAKoB,oBAAX,cAAuB,qBAAOC,GAEzCA,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GC3Bf,owC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,wrBAAioB,eAAG,G;;;;0ICwHpoB,qCACA,iB,yDAIA,CACA,KADA,WAEA,OACA,QACA,YACA,OACA,YACA,SACA,UACA,UACA,QACA,eACA,SACA,WACA,QACA,WACA,eACA,WAGA,OApBA,WAsBA,wBACA,gBACA,sBAGA,iCACA,oBAEA,gCAGA,eACA,+BAQA,wBACA,gBAGA,QA9CA,aAoDA,6BACA,yBAEA,SACA,MADA,WAEA,WACA,aACA,cACA,cAEA,YAGA,OAVA,WAWA,WACA,6BACA,YAEA,OAfA,WAgBA,WACA,0BACA,kBACA,cACA,WACA,YACA,YACA,MAEA,aACA,KAEA,eACA,8BACA,aAEA,CACA,UACA,WAGA,iBArCA,SAqCA,GACA,gDACA,2BAGA,SA1CA,SA0CA,GACA,gDAEA,0BACA,gDACA,iDAQA,SAvDA,SAuDA,GACA,gDAEA,0BACA,0DAIA,SA/DA,WAgEA,IACA,IACA,aAGA,eAEA,wCAKA,eACA,qBAEA,YAGA,UAlFA,WAmFA,WACA,YACA,8BACA,QAGA,QACA,oDAEA,gBACA,aACA,QAVA,SAUA,GAEA,eAEA,8BAIA,cACA,YACA,oBAKA,KAzBA,WA0BA,cACA,YACA,eAEA,sBAKA,OAvHA,WAwHA,WACA,YACA,wCACA,MACA,kCAKA,gBACA,aACA,QAVA,SAUA,GAEA,gBACA,0BACA,eAEA,sBACA,gBAQA,eAIA,KA7BA,SA6BA,GACA,cACA,YACA,mBAEA,cACA,mBAKA,UAjKA,WAkKA,WACA,YACA,oCACA,MACA,kCAEA,QACA,oDAEA,gBACA,aACA,QAVA,SAUA,GAMA,OALA,oBACA,iBAEA,qBAIA,EADA,eACA,mDAEA,+BAEA,UAEA,cACA,YACA,YAKA,KA/BA,WAgCA,cACA,YAEA,oBAEA,sBAKA,OA7MA,WA+MA,wBACA,WAEA,wDAOA,aAGA,gBACA,mBAEA,WAEA,uBACA,gBACA,cACA,qCAEA,MAnBA,cACA,YACA,kBA2GA,UAhUA,WAiUA,uBAGA,gBApUA,SAoUA,GAGA,WACA,YACA,0BACA,MACA,cACA,uCACA,gBAEA,QACA,oDAEA,gBACA,cACA,QAZA,SAYA,GAOA,IAJA,kBACA,6BACA,YAEA,iBACA,aACA,oBACA,8BACA,WACA,6BAGA,kCAGA,kBACA,wBACA,WACA,qBAEA,SACA,6CAEA,QACA,QAEA,oBAEA,gCAEA,CACA,sBACA,eACA,sFAEA,eAEA,QACA,QACA,oEACA,oBACA,aAGA,WACA,eAEA,eAKA,KAnEA,SAmEA,GACA,cACA,YACA,eAEA,mBAKA,KArZA,SAqZA,GACA,mBAEA,QAxZA,WAyZA,iB;;;;2DC7kBA,y+BAAk7B,eAAG,G;;;;;;;;6DCAr7B,8SAA+T,2B;;;;6DCA/T,OAAe,yBACJC,EAAUb,QAAQc,iBACpBD,EAAUb,QAAQc,eAAiB,O","file":"pages/Order/Order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/Order/Order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Order.vue?vue&type=template&id=4e7b0aa4&scoped=true&filter-modules=eyJmaWx0ZXIiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NDI0MiwiYXR0cnMiOnsibW9kdWxlIjoiZmlsdGVyIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3V0aWxzL2ZpbHRlci53eHMifSwiZW5kIjo0MjQyfX0%3D&\"\nvar renderjs\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=4e7b0aa4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e7b0aa4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"../../utils/filter.wxs?vue&type=custom&index=0&blockType=script&issuerPath=E%3A%5CphpStudy%5CWWW%5C41_51daiyan_uni%5Cpages%5COrder%5COrder.vue&module=filter&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"pages/Order/Order.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Order.vue?vue&type=template&id=4e7b0aa4&scoped=true&filter-modules=eyJmaWx0ZXIiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NDI0MiwiYXR0cnMiOnsibW9kdWxlIjoiZmlsdGVyIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3V0aWxzL2ZpbHRlci53eHMifSwiZW5kIjo0MjQyfX0%3D&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Order.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"hengxian\"></view>\n\t\t<view v-if=\"htmlReset==1\" class=\"chongshi\" @tap='cload'>重试</view>\n\t\t<view class=\"container\" v-if=\"htmlReset==0\">\n\t\t\n\t\t  <view class=\"address\" data-url=\"/pagesA/myaddress/myaddress?type=1\" @tap=\"jump\">\n\t\t    <view class=\"add_l\">\n\t\t      <view v-if=\"address.user_name\" class=\"al_1\">{{address.user_name}}\n\t\t        <text class=\"l_tel\">{{address.phone}}</text>\n\t\t      </view>\n\t\t      <view v-if=\"address.user_name\" class=\"al_2\">{{address.area}}{{address.address}}</view>\n\t\t      <view v-if=\"!address.user_name\" class=\"fz30\">请选择地址</view>\n\t\t    </view>\n\t\t    <!-- <view class=\"add_r\"> -->\n\t\t    <text class=\"iconfont iconnext\"></text>\n\t\t    <!-- </view> -->\n\t\t  </view>\n\t\t  <view class=\"orderbder\">\n\t\t    <image src=\"/static/images/orderborder.png\"></image>\n\t\t  </view>\n\t\t  <view class=\"goodsBox contbox\">\n\t\t    <view class=\"goods\" v-for=\"(item,idx) in goods\" :data-tab=\"idx\">\n\t\t      <view class=\"dianpu_tit\">\n\t\t        <image class=\"dp_logo\" :src=\"filter.imgIP('/static_s/51daiyan/images/tx.png')\"></image>\n\t\t        <text>石说的达开旗舰店</text>\n\t\t        <!-- <text class=\"iconfont iconnext3\"></text> -->\n\t\t      </view>\n\t\t      <view class=\"goods1\" v-for=\"(item1,idx1) in goods\">\n\t\t        <view class=\"goodsImg\">\n\t\t          <image class=\"goodsImg\" :src=\"filter.imgIP('/static_s/51daiyan/images/goods.png')\" mode=\"aspectFill\"></image>\n\t\t        </view>\n\t\t        <view class=\"goodsinr\">\n\t\t          <!-- <view class=\"goodsname fz30 c30 oh1\">{{item.goods_name}}</view> -->\n\t\t          <view class=\"goodsname fz30 c30 oh1\">{{'黄金曼特宁精品咖啡/袋泡咖啡/耳挂 咖啡6*10袋装'}}</view>\n\t\t          <view class=\"goodspri\">{{'已选择：苏门答腊黄金曼特宁深度烘培'}}</view>\n\t\t          <view class=\"goodspri1\">\n\t\t            <!-- <text class=\"fz36 cf6377a fwb\">￥{{filter.moneyFormat('48')}}</text> -->\n\t\t            <text class=\"fz36 cf6377a fwb\">￥{{'48'}}</text>\n\t\t\n\t\t\n\t\t          </view>\n\t\t        </view>\n\t\t      </view>\n\t\t      <view class=\"o_xj\">\n\t\t        <view></view>\n\t\t        <view>共3件，小记\n\t\t          <text>¥144</text>\n\t\t        </view>\n\t\t\n\t\t      </view>\n\t\t    </view>\n\t\t  </view>\n\t\t\n\t\t  <!-- <view class=\"guige\">\n\t\t    <view class=\"guige_l\">\n\t\t      <view class=\"guige_l_name\">优惠券</view>\n\t\t      !-- <view class=\"c9\">已选100元优惠券</view> --\n\t\t    </view>\n\t\t    <view class=\"fz26 c9\">-￥{{yhlist[yhidx].coupon_money}}\n\t\t      <text class=\"iconfont iconnext\"></text>\n\t\t    </view>\n\t\t  </view> -->\n\t\t  <!-- <view class=\"hengxian\"></view> -->\n\t\t  <view class=\"guige\">\n\t\t    <view class=\"guige_l\">\n\t\t      <view class=\"bl1\"></view>\n\t\t      <view class=\"guige_l_name\">支付方式</view>\n\t\t    </view>\n\t\t    <view class=\"fz26 c3 paytype\">\n\t\t      <image src=\"/static/images/wxpay.png\"></image>\n\t\t      微信支付\n\t\t    </view>\n\t\t  </view>\n\t\t  <view class=\"guige\">\n\t\t    <view class=\"guige_l\">\n\t\t      <view class=\"guige_l_name\">运费</view>\n\t\t      <!-- <view>10元</view> -->\n\t\t    </view>\n\t\t    <!-- <view class=\"guige_r\"> -->\n\t\t    <view class=\"fz26 c9\">{{yunfei==0? '免运费':'+￥'+yunfei}}</view>\n\t\t    <!-- <text class=\"iconfont iconsangedian fz36 c9\"></text> -->\n\t\t    <!-- </view> -->\n\t\t  </view>\n\t\t  <view class=\"guige\" data-url=\"/pagesA/my_yhq/my_yhq?type=1\" @tap=\"jump\">\n\t\t    <view class=\"guige_l\">\n\t\t      <view class=\"guige_l_name\">优惠券</view>\n\t\t      <!-- <view>10元</view> -->\n\t\t    </view>\n\t\t    <view class=\"dis_flex aic\">\n\t\t      <view class=\"fz26 c9\">{{!yhmsg? '无可用':'-￥'+yhmsg.arg1}}</view>\n\t\t      <text class=\"iconfont iconnext3 fz30 c9\"></text>\n\t\t    </view>\n\t\t  </view>\n\t\t  <view class=\"guige\">\n\t\t    <view class=\"guige_l\">\n\t\t      <view class=\"guige_l_name\">代言豆抵扣</view>\n\t\t      <!-- <view>10元</view> -->\n\t\t    </view>\n\t\t    <view class=\"dis_flex aic\">\n\t\t      <view class=\"fz26 c9\">我的代言豆：{{my_dou}}</view>\n\t\t      <view class=\"xuanze1 \" :class=\"my_dou_xuan==true? 'xuanze2':''\" @tap.stop=\"select\">\n\t\t        <icon v-if=\"my_dou_xuan==true\" type=\"success\" size=\"14\" color=\"#F7B43B\" />\n\t\t      </view>\n\t\t    </view>\n\t\t  </view>\n\t\t\n\t\t\n\t\t  <view class=\"fixbottom\">\n\t\t    <view class=\"fb_l\">￥{{zsum}}</view>\n\t\t    <view v-if=\"paykg\" class=\"subbtn\" @tap=\"subbtn\">提交订单</view>\n\t\t    <view v-if=\"!paykg\" class=\"subbtn subbtn1\">提交订单</view>\n\t\t  </view>\n\t\t\n\t\t</view>\n\t</view>\n</template>\n\n<script module=\"filter\" lang=\"wxs\" src=\"../../utils/filter.wxs\"></script>\n<script>\n\timport service from '../../service.js';\n\timport {\n\t\tmapState,\n\t\tmapMutations\n\t} from 'vuex'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbtnkg: 0,\n\t\t\t\thtmlReset: 0,\n\t\t\t\ttype: 0, ///1 单品下单  2 购物车下单\n\t\t\t\tgoods: [1, 1],\n\t\t\t\tyunfei: 0, //运费\n\t\t\t\tyhlist: [], //优惠\n\t\t\t\tsku_id: '', //新单价\n\t\t\t\tyhidx: 0,\n\t\t\t\taddresslist: [], //地址列表\n\t\t\t\tpaykg: true, //按钮开关\n\t\t\t\taddress: '',\n\t\t\t\tsum: 1000,\n\t\t\t\tmy_dou: 100,\n\t\t\t\tmy_dou_xuan: false,\n\t\t\t\tzsum: 1000\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\n\t\t  let pages = getCurrentPages();\n\t\t  let currPage = pages[pages.length - 1];\n\t\t  if (currPage.data.addresschose) {  \n\t\t        //将携带的参数赋值\n\t\t          \n\t\t      this.address=currPage.data.addresschose\n\t\t      this.addressBack=true \n\t\t\n\t\t    console.log(this.address, '地址')\n\t\t\n\t\t  }\n\t\t  if (currPage.data.yhmsg) {\n\t\t    console.log(currPage.data.yhmsg, '优惠')\n\t\t\n\t\t    // var zsum = this.data.sum - currPage.data.yhmsg.arg1 + Number(this.data.yunfei)\n\t\t    // console.log(zsum)\n\t\t    // this.setData({\n\t\t    //   yhmsg: currPage.data.yhmsg,\n\t\t    //   zsum: zsum\n\t\t    // })\n\t\t    this.yhmsg= currPage.data.yhmsg\n\t\t    this.jisuan()\n\t\t  }\n\t\t},\n\t\tonReady() {\n\t\t\n\t\t},\n\t\t/**\n\t\t * 页面相关事件处理函数--监听用户下拉动作\n\t\t */\n\t\tonPullDownRefresh: function() {\n\t\t  uni.stopPullDownRefresh();\n\t\t},\n\t\tmethods: {\n\t\t\tcload() {\n\t\t\t  var that = this\n\t\t\t  that.countpri()\n\t\t\t  that.getyunfei()\n\t\t\t  that.getyhlist()\n\t\t\t\n\t\t\t  that.getadd()\n\t\t\t},\n\t\t\t\n\t\t\tselect() {\n\t\t\t  var that = this\n\t\t\t  that.my_dou_xuan= !that.my_dou_xuan\n\t\t\t  that.jisuan()\n\t\t\t},\n\t\t\tjisuan() {\n\t\t\t  var that = this\n\t\t\t  var yhnum = that.yhmsg ? that.yhmsg.arg1 : ''\n\t\t\t  if (that.my_dou_xuan) {\n\t\t\t    var zsum = that.sum - yhnum\n\t\t\t    var my_dou_new = that.my_dou\n\t\t\t    if (zsum > that.my_dou) {\n\t\t\t      zsum = zsum - that.my_dou\n\t\t\t      my_dou_new = 0\n\t\t\t    } else {\n\t\t\t      my_dou_new = that.my_dou - zsum\n\t\t\t      zsum = 0\n\t\t\t    }\n\t\t\t    console.log(zsum)\n\t\t\t    console.log('我的代言豆还有：' + my_dou_new + '个')\n\t\t\t    that.zsum= zsum\n\t\t\t\n\t\t\t  } else {\n\t\t\t    var zsum = that.sum - yhnum\n\t\t\t    that.zsum= zsum\n\t\t\t  }\n\t\t\t},\n\t\t\tbindPickerChange(e) {\n\t\t\t  console.log('picker发送选择改变，携带值为', e.detail.value)\n\t\t\t  this.show0= e.detail.value\n\t\t\t},\n\t\t\t//address\n\t\t\tbchange1(e) {\n\t\t\t  console.log('picker发送选择改变，携带值为', e.detail.value)\n\t\t\t  \n\t\t\t    this.show1= e.detail.value\n\t\t\t    this.ztaddress= this.columns1[e.detail.value].id\n\t\t\t    this.zttime= this.columns2[e.detail.value][0].id\n\t\t\t  \n\t\t\t  // that.setData({\n\t\t\t  // \tztaddress:that.columns1[0].id,\n\t\t\t  // \tzttime:that.columns2[0][0].id\n\t\t\t  // })\n\t\t\t},\n\t\t\t//time\n\t\t\tbchange2(e) {\n\t\t\t  console.log('picker发送选择改变，携带值为', e.detail.value)\n\t\t\t  \n\t\t\t    this.show2= e.detail.value\n\t\t\t    this.zttime= this.columns2[this.show1][e.detail.value].id\n\t\t\t  \n\t\t\t},\n\t\t\t/*计算价格*/\n\t\t\tcountpri() {\n\t\t\t  var that = this\n\t\t\t  let heji = 0\n\t\t\t  let var2 = this.xzarr\n\t\t\t  // console.log(this.goods_sele)\n\t\t\t  // console.log(var2)\n\t\t\t  for (let i in var2) {\n\t\t\t\n\t\t\t    heji += var2[i].num * (var2[i].goods_real_price * 100)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t  }\n\t\t\t  console.log(heji)\n\t\t\t  heji = (heji / 100).toFixed(0)\n\t\t\t\n\t\t\t  this.sum= heji\n\t\t\t},\n\t\t\t//运费\n\t\t\tgetyunfei() {\n\t\t\t  let that = this\n\t\t\t  wx.request({\n\t\t\t    url: app.IPurl + '/api/carriage',\n\t\t\t    data: {\n\t\t\t\n\t\t\t    },\n\t\t\t    header: {\n\t\t\t      'content-type': 'application/x-www-form-urlencoded'\n\t\t\t    },\n\t\t\t    dataType: 'json',\n\t\t\t    method: 'get',\n\t\t\t    success(res) {\n\t\t\t      // console.log(res.data)\n\t\t\t      if (res.data.code == 1) {\n\t\t\t\n\t\t\t        that.yunfei= res.data.data.carriage\n\t\t\t\n\t\t\t\n\t\t\t      } else {\n\t\t\t        wx.showToast({\n\t\t\t          icon: 'none',\n\t\t\t          title: res.data.msg\n\t\t\t        })\n\t\t\t      }\n\t\t\t\n\t\t\t    },\n\t\t\t    fail() {\n\t\t\t      wx.showToast({\n\t\t\t        icon: 'none',\n\t\t\t        title: '获取失败'\n\t\t\t      })\n\t\t\t      console.log('失败')\n\t\t\t    }\n\t\t\t  })\n\t\t\t},\n\t\t\t//获取默认地址\n\t\t\tgetadd() {\n\t\t\t  let that = this\n\t\t\t  wx.request({\n\t\t\t    url: app.IPurl + '/api/userAddressDefault',\n\t\t\t    data: {\n\t\t\t      token: wx.getStorageSync('token')\n\t\t\t    },\n\t\t\t    // header: {\n\t\t\t    // \t'content-type': 'application/x-www-form-urlencoded' \n\t\t\t    // },\n\t\t\t    dataType: 'json',\n\t\t\t    method: 'get',\n\t\t\t    success(res) {\n\t\t\t      // console.log(res.data)\n\t\t\t      if (res.data.code == 1) {\n\t\t\t        wx.setNavigationBarTitle({\n\t\t\t          title: '提交订单'\n\t\t\t        })\n\t\t\t        that.address= res.data.data\n\t\t\t        that.ahtmlReset= 0\n\t\t\t\n\t\t\t\n\t\t\t      } else {\n\t\t\t        // wx.showToast({\n\t\t\t        // \ticon:'none',\n\t\t\t        // \ttitle:res.data.msg\n\t\t\t        // })\n\t\t\t        that.htmlReset= 1\n\t\t\t      }\n\t\t\t\n\t\t\t    },\n\t\t\t    fail(err) {\n\t\t\t      wx.showToast({\n\t\t\t        icon: 'none',\n\t\t\t        title: '获取默认地址失败'\n\t\t\t      })\n\t\t\t      that.htmlReset= 1\n\t\t\t      console.log(err)\n\t\t\t    }\n\t\t\t  })\n\t\t\t},\n\t\t\t//获取优惠\n\t\t\tgetyhlist() {\n\t\t\t  var that = this\n\t\t\t  wx.request({\n\t\t\t    url: app.IPurl + '/api/userCouponList',\n\t\t\t    data: {\n\t\t\t      token: wx.getStorageSync('token')\n\t\t\t    },\n\t\t\t    header: {\n\t\t\t      'content-type': 'application/x-www-form-urlencoded'\n\t\t\t    },\n\t\t\t    dataType: 'json',\n\t\t\t    method: 'get',\n\t\t\t    success(res) {\n\t\t\t      console.log(res.data)\n\t\t\t      if (res.data.code == 1) {\n\t\t\t\n\t\t\t        that.yhlist= res.data.data\n\t\t\t\n\t\t\t        var zsum\n\t\t\t        if (res.data.data[0]) {\n\t\t\t          zsum = that.sum - res.data.data[0].coupon_money + Number(that.yunfei)\n\t\t\t        } else {\n\t\t\t          zsum = Number(that.sum) + Number(that.yunfei)\n\t\t\t        }\n\t\t\t        that.zsum= zsum\n\t\t\t      } else {\n\t\t\t        wx.showToast({\n\t\t\t          icon: 'none',\n\t\t\t          title: ''\n\t\t\t        })\n\t\t\t      }\n\t\t\t\n\t\t\t    },\n\t\t\t    fail() {\n\t\t\t      wx.showToast({\n\t\t\t        icon: 'none',\n\t\t\t        // title:res.data.msg\n\t\t\t        title: '获取优惠券信息失败'\n\t\t\t      })\n\t\t\t      console.log('失败')\n\t\t\t    }\n\t\t\t  })\n\t\t\t\n\t\t\t},\n\t\t\tsubbtn() {\n\t\t\t\n\t\t\t  console.log(app.IPurl1)\n\t\t\t  let that = this\n\t\t\t\n\t\t\t  if (that.address == null || that.address.id == '' || that.address.id == undefined) {\n\t\t\t    wx.showToast({\n\t\t\t      icon: 'none',\n\t\t\t      title: '请先添加地址'\n\t\t\t    })\n\t\t\t    return\n\t\t\t  }\n\t\t\t  if (that.paykg == false) {\n\t\t\t    return\n\t\t\t  } else {\n\t\t\t    wx.showLoading({\n\t\t\t      title: '订单提交中...'\n\t\t\t    })\n\t\t\t    that.paykg= false\n\t\t\t  }\n\t\t\t  setTimeout(function() {\n\t\t\t    uni.hideLoading()\n\t\t\t    uni.navigateTo({\n\t\t\t      url: '/pages/OrderList/OrderList',\n\t\t\t    })\n\t\t\t  }, 1000)\n\t\t\t  return\n\t\t\t  // wx.hideLoading()\n\t\t\t  // that.setData({\n\t\t\t  // \tpaykg:true\n\t\t\t  // })\n\t\t\t  // wx.showToast({\n\t\t\t  // \ttitle: '提交失败',\n\t\t\t  // \ticon: 'none',\n\t\t\t  // \tduration: 1000\n\t\t\t  // })\n\t\t\t  // return\n\t\t\t  let data\n\t\t\t  let jkurl\n\t\t\t  if (that.data.type == 2) {\n\t\t\t    data = {\n\t\t\t      token: wx.getStorageSync('token'),\n\t\t\t      shopping_ids: that.idg,\n\t\t\t      user_address_id: that.address.id,\n\t\t\t      user_coupon_id: that.yhlist[that.yhidx] ? that.yhlist[that.yhidx].id : -1\n\t\t\t    }\n\t\t\t    jkurl = '/api/orderForShopping'\n\t\t\t  } else {\n\t\t\t\n\t\t\t    data = {\n\t\t\t      token: wx.getStorageSync('token'),\n\t\t\t      goods_id: that.xzarr[0].goods_id,\n\t\t\t      goods_attr: that.xzarr[0].attr_setjson,\n\t\t\t      goods_num: that.xzarr[0].num,\n\t\t\t      user_address_id: that.address.id,\n\t\t\t      sku_id: that.sku_id,\n\t\t\t      user_coupon_id: that.yhlist[that.yhidx] ? that.yhlist[that.yhidx].id : -1\n\t\t\t    }\n\t\t\t    jkurl = '/api/orderForGoods'\n\t\t\t  }\n\t\t\t  wx.request({\n\t\t\t    url: app.IPurl + jkurl,\n\t\t\t    data: data,\n\t\t\t    header: {\n\t\t\t      'content-type': 'application/x-www-form-urlencoded'\n\t\t\t    },\n\t\t\t    dataType: 'json',\n\t\t\t    method: 'POST',\n\t\t\t    success(res) {\n\t\t\t\n\t\t\t      wx.hideLoading()\n\t\t\t      console.log(res)\n\t\t\t\n\t\t\t      if (res.data.code == 1) {\n\t\t\t\n\t\t\t        // setTimeout(function(){\n\t\t\t        if (res.data.data.order_code) {\n\t\t\t          console.log('order_code' + res.data.data.order_code)\n\t\t\t          app.Pay(res.data.data.order_code)\n\t\t\t        }\n\t\t\t        // },1000)\n\t\t\t        // let resultd=res.data\n\t\t\t        // console.log(res.data)\n\t\t\t        // if(res.data.data.order_code){\n\t\t\t        // \tconsole.log('order_code'+res.data.data.order_code)\n\t\t\t        // \t// app.Pay(res.data.order_info_id,'info')\n\t\t\t        // }\n\t\t\t      } else {\n\t\t\t        wx.showToast({\n\t\t\t          title: res.data.msg,\n\t\t\t          icon: 'none',\n\t\t\t          duration: 1000\n\t\t\t        })\n\t\t\t        that.paykg= true\n\t\t\t      }\n\t\t\t    },\n\t\t\t    fail(res) {\n\t\t\t\n\t\t\t\n\t\t\t      wx.hideLoading()\n\t\t\t      that.paykg= true\n\t\t\t      wx.showToast({\n\t\t\t        title: '提交失败',\n\t\t\t        icon: 'none',\n\t\t\t        duration: 1000\n\t\t\t      })\n\t\t\t    }\n\t\t\t  })\n\t\t\t\n\t\t\t\n\t\t\t  // wx.navigateTo({\n\t\t\t  // \turl:'../OrderDetails/OrderDetails'\n\t\t\t  // })\n\t\t\t\n\t\t\t},\n\t\t\tgoaddress() {\n\t\t\t  service.goaddress()\n\t\t\t},\n\t\t\t//单品\n\t\t\tgetGoodsDetails(id) {\n\t\t\t  // const pageState1 = pageState.default(this)\n\t\t\t  // pageState1.loading()    // 切换为loading状态\n\t\t\t  let that = this\n\t\t\t  wx.request({\n\t\t\t    url: app.IPurl1 + 'shopinfo',\n\t\t\t    data: {\n\t\t\t      key: app.jkkey,\n\t\t\t      tokenstr: wx.getStorageSync('tokenstr'),\n\t\t\t      goods_sku_id: id\n\t\t\t    },\n\t\t\t    header: {\n\t\t\t      'content-type': 'application/x-www-form-urlencoded'\n\t\t\t    },\n\t\t\t    dataType: 'json',\n\t\t\t    method: 'POST',\n\t\t\t    success(res) {\n\t\t\t      // console.log(res.data)\n\t\t\t\n\t\t\t      if (res.data.error == -2) {\n\t\t\t        app.checktoken(res.data.error)\n\t\t\t        that.onLoad()\n\t\t\t      }\n\t\t\t      if (res.data.error == 0) {\n\t\t\t        let resultd = res.data\n\t\t\t        console.log(res.data)\n\t\t\t        that.data.goodslist.push(res.data)\n\t\t\t        that.setData({\n\t\t\t          goodslist: that.data.goodslist,\n\t\t\t        })\n\t\t\t\n\t\t\t        let shopimg = resultd.data.goods_img.split(\",\")\n\t\t\t        // let guige=resultd.data.goods_unit.split(\",\")\n\t\t\t        // // that.data.spimg = that.data.spimg.concat(rlb)\n\t\t\t        console.log(shopimg[0])\n\t\t\t        that.data.spimg.push(shopimg[0])\n\t\t\t        that.setData({\n\t\t\t          spimg: that.data.spimg\n\t\t\t        })\n\t\t\t        let arra = []\n\t\t\t        if (that.data.goodslist[0].goods_total_limit != '') {\n\t\t\t\n\t\t\t          arra.push({\n\t\t\t            xuan: true,\n\t\t\t            // pri:res.data.shopinfo_sku_price_list[dbggidx].goods_sku_info.internal_price,\n\t\t\t            num: that.data.goodsnum,\n\t\t\t            // order_cart_id:that.data.goodslist[0].order_cart.order_cart_id,\n\t\t\t            laddermsgs: that.ladderpri(0)\n\t\t\t          })\n\t\t\t        } else {\n\t\t\t          var dbggidx = that.data.dbggtype\n\t\t\t          console.log(dbggidx)\n\t\t\t          let ss = res.data.shopinfo_sku_price_list[dbggidx].goods_sku_info.internal_price * that.data.goodsnum\n\t\t\t\n\t\t\t          let Totalpri = ss.toFixed(2)\n\t\t\t\n\t\t\t          arra.push({\n\t\t\t            xuan: true,\n\t\t\t            pri: res.data.shopinfo_sku_price_list[dbggidx].goods_sku_info.internal_price,\n\t\t\t            num: that.data.goodsnum,\n\t\t\t            Totalpri: Totalpri\n\t\t\t          })\n\t\t\t        }\n\t\t\t        that.setData({\n\t\t\t          goods_sele: arra\n\t\t\t        })\n\t\t\t        that.countpri()\n\t\t\t      }\n\t\t\t      // pageState1.finish()    // 切换为finish状态\n\t\t\t      // pageState1.error()    // 切换为error状态\n\t\t\t    },\n\t\t\t    fail(err) {\n\t\t\t      wx.showToast({\n\t\t\t        icon: 'none',\n\t\t\t        title: '获取失败'\n\t\t\t      })\n\t\t\t      console.log(err)\n\t\t\t      // pageState1.error()    // 切换为error状态\n\t\t\t    }\n\t\t\t  })\n\t\t\t},\n\t\t\tjump(e) {\n\t\t\t  service.jump(e)\n\t\t\t},\n\t\t\tonRetry() {\n\t\t\t  this.onLoad()\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n.container{\n\tmin-height: 100vh;\n\tbackground: #eeeeee;\n\tpadding-bottom: 100rpx;\n}\nimage{\n\twidth: 100%;\n\theight: 100%;\n}\n.address{\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 153rpx;\n\tpadding: 0 28rpx;\n\tbox-sizing: border-box;\n\tbackground-color: #fff;\n\talign-items: center;\n}\n.add_l{\n\theight: 80%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\tflex: 1;\n\t\n}\n.al_1{\n\tfont-size: 30rpx;\n\tcolor: #333;\n}\n.l_tel{\n\tmargin-left: 47rpx;\n}\n.al_2{\n\twidth: 670rpx;\n\tfont-size: 24rpx;\n\tcolor: #999;\n\ttext-overflow:ellipsis;\n\t white-space:nowrap; \n\t overflow:hidden;\n}\n.add_r{\n\twidth: 23rpx;\n\theight: 40rpx;\n}\n.orderbder{\n\twidth: 100%;\n\theight: 6rpx;\n\tdisplay: flex;\n}\n.goodsBox{\n\twidth: 100%;\n}\n.goodsOne{\n\twidth: 100%;\n\tpadding: 0 28rpx;\n\tbox-sizing: border-box;\n\tbackground-color: #fff;\n\tmargin-bottom: 17rpx;\n}\n.goodsdft{\n\tpadding: 38rpx 0 18rpx;\n\tdisplay: flex;\n\tborder-bottom: 1px solid #eeeeee;\n}\n.goodsImg{\n\t/* width: 138rpx;\n\theight: 138rpx;\n\tborder: 1px solid #d2d2d2; */\n\twidth: 200rpx;\n\theight: 200rpx;\n\tmargin-right: 40rpx;\n}\n.goodsInr{\n\twidth: 500rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\t\n\tfont-size: 28rpx;\n\tcolor: #999;\n}\n.goods2{\n\twidth: 100%;\n\tpadding:20rpx 0 28rpx;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n.goods2tit{\n\twidth: 100%;\n\tline-height: 45rpx;\n\tfont-size: 26rpx;\n\tcolor: #333;\n}\n.xiaoji{\n\ttext-align: right;\n\tfont-size: 28rpx;\n\tcolor: #333;\n\tpadding: 30rpx 0;\n}\n.ml10{\n\tmargin-left: 10px;\n}\n.xjjine{\n\tfont-size: 32rpx;\n\tcolor: #fe0042;\n}\n\n.guige{\n\twidth: 750rpx;\n\theight: 70rpx;\n\tpadding: 0 28rpx;\n\tbox-sizing: border-box;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n}\n.guige_l{\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 26rpx;\n\tcolor: #333;\n}\n.guige_l_name{\n\tcolor: #333;\n\tmargin-right: 25rpx;\n}\n.guige_r{\n\twidth: 44rpx;\n\theight: 44rpx;\n}\n.wxicon{\n\twidth: 38rpx;\n\theight: 38rpx;\n\tmargin-right: 22rpx;\n}\n\n\n.fixbottom{\n\twidth: 100%;\n\tposition:fixed;\n\tbottom: 0;\n\tleft: 0;\n\theight: 100rpx;\n\tbackground-color: #fff;\n\tdisplay: flex;\n}\n.fb_l{\n\tflex: 1;\n\theight: 100rpx;\n\tpadding-left: 28rpx;\n\tfont-size: 38rpx;\n\tcolor: #f75852;\n\tdisplay: flex;\n\talign-items: center;\n\tfont-weight: bold;\n}\n.subbtn{\n\twidth: 212rpx;\n\theight: 100rpx;\n\tbackground-color: #f75852;\n\tcolor:#fff;\n\tfont-size: 30rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n.subbtn1{\n\tbackground-color: #999;\n}\n\n.contbox{\n\twidth: 100%;\n\tpadding: 10rpx 0;\n\tbox-sizing: border-box;\n\tbackground-color: #fff;\n}\n.goodsImg image{\n\twidth: 100%;\n\theight:100%;\n}\n\n\n\n/*  */\n.dianpu_tit{\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 28rpx 28rpx 0;\n\tbox-sizing: border-box;\n\tfont-size: 26rpx;\n\tcolor: #333;\n}\n.dp_logo{\n\twidth:60rpx;\n\theight:60rpx;\n\tborder-radius:50%;\n\tmargin-right: 10rpx;\n}\n.dianpu_tit .iconfont{\n\tfont-size: 26rpx;\n\tcolor: #999;\n}\n.goods{\n\twidth: 100%;\n\tbackground-color: #fff;\n  border-bottom: 20rpx solid #eee;\n\t/* margin-bottom: 20rpx; */\n}\n.goods1{\n\twidth: 100%;\n\tpadding: 28rpx;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\talign-items: center;\n\t/* border-bottom: 1px solid #ddd; */\n\tposition: relative;\n}\n.scbg{\n\tposition: absolute;\n\ttop: 20rpx;\n\tright: 20rpx;\n\twidth: 46rpx;\n\theight: 46rpx;\n\tline-height: 46rpx;\n\tborder-radius: 50%;\n\tbackground-color: #999;\n\tcolor: #fff;\n\tfont-size: 26rpx;\n\t/* display: flex;\n\tjustify-content: space-between;\n\talign-items: center; */\n\ttext-align: center;\n}\n.goodsImg{\n\twidth: 200rpx;\n\theight: 200rpx;\n\t/* border: 1px solid #d2d2d2; */\n\tmargin-right: 22rpx;\n}\n.xuanze{\n\twidth: 30rpx;\n\theight: 30rpx;\n\tpadding: 40rpx 30rpx 40rpx 0rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex:none;\n}\n.xuanze1{\n\twidth: 34rpx;\n\theight: 34rpx;\n\tborder-radius: 50%;\n\tborder: 1px solid #ddd;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex:none;\n}\n.xuanze2{\n\tborder: 0;\n}\n.goodsinr{\n\tflex: 1;\n}\n.goodsname{\n\tfont-size: 30rpx;\n\tcolor: #333333;\n\tpadding-right: 20rpx;\n\tmargin-bottom: 20rpx;\n\tbox-sizing: border-box;\n\tdisplay:-webkit-box !important;  \n\toverflow:hidden;\n\ttext-overflow:ellipsis;\n\tword-break:break-all;\n\t-webkit-box-orient:vertical;\n\t-webkit-line-clamp:2;\n}\n.goodspri{\n\tfont-size: 26rpx;\n\tcolor: #999;\n}\n.scx{\n\ttext-decoration:line-through;\n}\n.goodspri1{\n\tfont-size: 32rpx;\n\tcolor: #fe0042;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.goods2{\n\twidth: 100%;\n\tpadding:20rpx 28rpx 28rpx;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n.goods2tit{\n\twidth: 100%;\n\tline-height: 45rpx;\n\tfont-size: 26rpx;\n\tcolor: #333;\n}\n.o_xj{\n  width: 100%;\n  height: 80rpx;\n  padding: 0 28rpx;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 24rpx;\n}\ntext{\n  color: #F75559;\n  font-size: 28rpx;\n}\n.paytype{\n  display: flex;\n  align-items: center;\n}\n.paytype image{\n  width:40rpx;\n  height:34rpx;\n  margin-right: 6rpx;\n}\n.bl1{\n  width:6rpx;\n  height:28rpx;\n  background:rgba(247,85,89,1);\n  border-radius:3rpx;\n  margin-right: 6rpx;\n}\n.xuanze1{\n\twidth: 34rpx;\n\theight: 34rpx;\n\tborder-radius: 50%;\n\tborder: 1px solid #ddd;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex:none;\n  margin-left: 15rpx;\n}\n.xuanze2{\n\tborder: 0;\n}\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Order.vue?vue&type=style&index=0&id=4e7b0aa4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Order.vue?vue&type=style&index=0&id=4e7b0aa4&scoped=true&lang=css&\"","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./filter.wxs?vue&type=custom&index=0&blockType=script&issuerPath=E%3A%5CphpStudy%5CWWW%5C41_51daiyan_uni%5Cpages%5COrder%5COrder.vue&module=filter&lang=wxs\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./filter.wxs?vue&type=custom&index=0&blockType=script&issuerPath=E%3A%5CphpStudy%5CWWW%5C41_51daiyan_uni%5Cpages%5COrder%5COrder.vue&module=filter&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}